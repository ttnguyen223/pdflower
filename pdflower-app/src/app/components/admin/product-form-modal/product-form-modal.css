/* 1. Global Dialog & Host Styling */
:host {
    display: flex;
    flex-direction: column;
    height: auto;
    max-height: 95vh;       
    border-radius: 0 !important;
    background-color: #fff;
    margin: 0 !important;
    padding: 0 !important;
}

::ng-deep .mat-mdc-dialog-container .mdc-dialog__surface {
    border-radius: 0 !important;
    display: flex;
    flex-direction: column;
    padding: 0 !important;
    margin: 0 !important;
    height: auto !important; 
    max-height: 95vh !important;
    overflow: hidden !important; 
}

/* 2. Header Section: Palegoldenrod */
.dialog-header {
    background-color: palegoldenrod;
    padding: 8px 16px;
    height: 56px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    flex-shrink: 0;
}

.dialog-header h2 {
    margin: 0 !important;
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
    text-transform: uppercase;
}

.close-box-btn {
    position: absolute;
    right: 12px;
    width: 32px !important;
    height: 32px !important;
    border: 1px solid #333 !important;
    border-radius: 0 !important;
    display: flex !important;
    align-items: center;
    justify-content: center;
    background: transparent;
}

/* 3. Content Area & Form Layout */
.product-dialog-content {
    margin: 0 !important;      
    padding: 24px !important;  
    flex: 0 1 auto;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
}

.product-form-modal {
    display: flex;
    flex-direction: column;
    gap: 24px; /* Space between major sections */
}

.details-section {
    display: flex;
    flex-direction: column;
    gap: 8px; /* Space between input fields */
}

/* 4. Image Previews & Remove Button */
.image-previews-container, .local-previews-list {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    margin-bottom: 15px;
    padding: 10px 10px 0 0;
}

.preview-item-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centers the label horizontally under the card */
    gap: 6px;
    margin-bottom: 10px;
}

.preview-thumbnail-card, .local-preview-item {
    position: relative;
    overflow: visible;
    border: 1px solid #eee;
    background: #fff;
}

.preview-thumbnail-card { width: 100px; height: 100px; }
.local-preview-item { width: 64px; height: 64px; }

.preview-thumbnail-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.main-image-border {
    border: 3px solid #007bff !important; /* Professional Blue */
    box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2); /* Soft blue glow */
}

/* Label appearing underneath the image */
.main-image-label {
    font-size: 11px;
    font-weight: 800;
    color: #007bff; /* Matching blue text */
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
}

/* Updated X Button: Semi-transparent white with black X */
.remove-local-file-button {
    position: absolute !important;
    top: 2px !important;
    right: 2px !important;
    width: 20px !important;
    height: 20px !important;
    min-width: unset !important;
    padding: 0 !important;
    border-radius: 50% !important;
    background-color: rgba(255, 255, 255, 0.7) !important;
    color: #000 !important;
    z-index: 10;
    display: flex !important;
    align-items: center;
    justify-content: center;
    border: none !important;
}

.remove-local-file-button mat-icon {
    font-size: 14px !important;
    width: 14px !important;
    height: 14px !important;
    line-height: 14px !important;
}

/* 5. Controls & Trash */
.upload-controls-bar {
    display: flex;
    justify-content: space-between; 
    align-items: center;
    margin-top: 15px;
}

.trash-clear-btn:hover {
    background-color: palegoldenrod !important;
}

/* 6. Footer Section & Action Buttons */
.dialog-actions-footer {
    padding: 12px 24px !important;
    border-top: 1px solid #eee;
    background-color: #fff;
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    flex-shrink: 0;
}

.save-btn, .cancel-btn {
    border-radius: 0 !important;
    text-transform: uppercase;
    font-weight: 700 !important;
    color: #333 !important;
}

.save-btn {
    background-color: palegoldenrod !important;
    border: 1px solid #333 !important;
}

.cancel-btn {
    background-color: transparent !important;
    border: 1px solid transparent;
}

.cancel-btn:hover {
    background-color: rgba(0, 0, 0, 0.05) !important;
}

/* 7. MOBILE VIEW: FULLSCREEN & PINNED BUTTONS */
@media (max-width: 767px) {
    ::ng-deep .cdk-overlay-pane {
        max-width: 100vw !important;
        width: 100vw !important;
        height: 100dvh !important; 
    }

    ::ng-deep .mat-mdc-dialog-container .mdc-dialog__surface {
        height: 100dvh !important;
        max-height: 100dvh !important;
    }

    :host { 
        height: 100dvh; 
        width: 100vw;
    }

    .product-dialog-content { 
        padding: 20px !important;
        flex: 1 1 auto !important; 
        max-height: none !important; 
    }

    .dialog-actions-footer {
        margin-top: auto !important; 
        padding: 12px 16px !important; 
        min-height: 64px !important;
        z-index: 10;
    }

    .save-btn, .cancel-btn { 
        flex: 1; 
        height: 48px !important; 
    }
}

/* 8. Fix Error Message Overlap & Input Styles */
.full-width { 
    width: 100%; 
}

/* Key fix for error overlaps */
::ng-deep .mat-mdc-form-field-subscript-wrapper {
    position: relative !important; /* Forces error space to push content down */
    height: auto !important;
}

.price-quantity-group { 
    display: flex; 
    gap: 15px; 
    align-items: flex-start;
}

.price-input-field input {
    text-align: right;
    font-variant-numeric: tabular-nums;
}

/* Category & Utilities */
.category-grid { display: flex; flex-direction: column; gap: 8px; margin-top: 8px; }
.category-item { display: flex; align-items: flex-start; }
::ng-deep .category-item .mdc-label { white-space: normal !important; line-height: 1.5 !important; }

.drop-zone { border: 1px dashed #bbb; padding: 35px; text-align: center; cursor: pointer; }
.product-description-input { min-height: 100px; white-space: pre-wrap; }
